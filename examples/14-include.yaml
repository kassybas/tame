settings:
  shell: /bin/bash

globals:
  $bar: "value of bar"

include:
  # path is always relative to the current file
  - path: "01-hello-world.yaml"
    as: helloWorld
  - path: "15-included.yaml"
    as: foo


targets:
  CallFromOtherFile:
    run:
    - sh: echo "starting"
    - call helloWorld.Hello: {}
    - call foo.Caller: {}
      $: $result
    - call foo.Log: {$msg: "Log this for me"}
    - sh: echo "received $result"

  TestContext:
    run:
    - sh: echo "Shell is $0"
    - call foo.CheckGlobal: {}
