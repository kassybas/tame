
settings:
  init: "set -eu"

targets:
  today:
    args: {$format: "+%D"}
    body:
      - shell: date ${format}

  main:
    body:
      - call: {today}
        opts: [silent]
      - call: {full-date}
        result: [ $fd ]
      - shell: echo yoyoyo $fd

  hello:
    body:
      - shell: echo "hello"
        out: $y
      - shell: echo $y
    return: [ $y ]

  ok:
    body:
    - call: {hello}
      result: [ $my ]
    - shell: echo wutwuth $my ---- $ok

  full-date:
    body:
      - shell: date
        out: $date
    return: [$date]

  loop-me:
    body:
      - shell: |
          while true; do
            echo "About 90.200.000 results (0,59 seconds)"
          done
