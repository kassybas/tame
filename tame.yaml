

targets:

  build:
    .opts: silent
    .summary: "Builds something"
    .args: { foo: "world", nope }
    .body:
      - say-hello:
          msg: "hello"
      - say-hello:
          msg: "nothing"
      - say-hello: {}

      - .exec: |
          echo hello my dear ${foo}
        .out: hello

  say-hello:
    .args: {msg: ok}
    .body:
      - .exec: echo say "$msg"
        .out: myVar
      - .exec: |
          echo "again: ${myVar}"
